name: Vercel Cron Workaround
on:
  schedule:
    - cron: '*/15 * * * *' # Chạy mỗi 15 phút

jobs:
  cron:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Overdue Check
        run: curl -X GET https://cupsipmart-edu-uef-nqt.vercel.app/api/cron/check-overdue
      
      - name: Trigger Reminders
        run: curl -X GET https://cupsipmart-edu-uef-nqt.vercel.app/api/cron/due-reminders

      - name: Trigger Rankings (Every hour)
        if: github.event.schedule == '0 * * * *'
        run: curl -X GET https://cupsipmart-edu-uef-nqt.vercel.app/api/cron/refresh-rankings
