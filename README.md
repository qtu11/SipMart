# ğŸŒ± **CupSipSmart** - Smart Cup Sharing System

> **Há»‡ thá»‘ng quáº£n lÃ½ mÆ°á»£n tráº£ ly tÃ¡i sá»­ dá»¥ng thÃ´ng minh cho Gen Z**  
> Giáº£m thiá»ƒu rÃ¡c tháº£i nhá»±a má»™t láº§n, báº£o vá»‡ mÃ´i trÆ°á»ng, kiáº¿m Ä‘iá»ƒm xanh!

---

## ğŸ“– **MÃ” HÃŒNH HOáº T Äá»˜NG**

### **ğŸ”„ Quy TrÃ¬nh Sá»­ Dá»¥ng**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1ï¸âƒ£ ÄÄ‚NG KÃ & Náº P TIá»€N Cá»ŒC                                   â”‚
â”‚     â†’ User Ä‘Äƒng kÃ½ tÃ i khoáº£n                                 â”‚
â”‚     â†’ Náº¡p tiá»n vÃ o vÃ­ (VNPay/MoMo/ZaloPay)                   â”‚
â”‚     â†’ Tiá»n cá»c máº·c Ä‘á»‹nh: 20,000 VNÄ/ly                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2ï¸âƒ£ MÆ¯á»¢N LY (BORROW)                                         â”‚
â”‚     â†’ QuÃ©t QR code trÃªn ly táº¡i quÃ¡n Ä‘á»‘i tÃ¡c                  â”‚
â”‚     â†’ Há»‡ thá»‘ng tá»± Ä‘á»™ng trá»« tiá»n cá»c                          â”‚
â”‚     â†’ Báº¯t Ä‘áº§u Ä‘áº¿m thá»i gian (24h pháº£i tráº£)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  3ï¸âƒ£ Sá»¬ Dá»¤NG & THEO DÃ•I                                       â”‚
â”‚     â†’ Xem thá»i gian cÃ²n láº¡i trong app                        â”‚
â”‚     â†’ Nháº­n thÃ´ng bÃ¡o nháº¯c tráº£ trÆ°á»›c 1h                       â”‚
â”‚     â†’ Theo dÃµi eco impact (ly Ä‘Ã£ cá»©u, CO2 giáº£m...)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  4ï¸âƒ£ TRáº¢ LY (RETURN)                                          â”‚
â”‚     â†’ QuÃ©t QR code táº¡i báº¥t ká»³ quÃ¡n Ä‘á»‘i tÃ¡c nÃ o               â”‚
â”‚     â†’ HoÃ n tiá»n cá»c tá»± Ä‘á»™ng vÃ o vÃ­                           â”‚
â”‚     â†’ Nháº­n Green Points thÆ°á»Ÿng (50-100 Ä‘iá»ƒm)                 â”‚
â”‚     â†’ Unlock achievements náº¿u Ä‘á»§ Ä‘iá»u kiá»‡n                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  5ï¸âƒ£ Äá»”I THÆ¯á»NG & TÆ¯Æ NG TÃC                                   â”‚
â”‚     â†’ DÃ¹ng Green Points Ä‘á»•i voucher, quÃ  táº·ng                â”‚
â”‚     â†’ Tham gia challenges, events hÃ ng tuáº§n                  â”‚
â”‚     â†’ Share trÃªn Green Feed, káº¿t báº¡n, top leaderboard        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **ğŸ’° CÆ¡ Cháº¿ TÃ i ChÃ­nh**

| **HÃ nh Ä‘á»™ng** | **Tiá»n cá»c** | **Green Points** | **Ghi chÃº** |
|---------------|--------------|------------------|-------------|
| MÆ°á»£n ly láº§n Ä‘áº§u | -20,000Ä‘ | +50 (bonus) | First Cup badge |
| Tráº£ Ä‘Ãºng háº¡n (< 24h) | +20,000Ä‘ | +50 | HoÃ n tiá»n Ä‘áº§y Ä‘á»§ |
| Tráº£ trá»… (24-48h) | +15,000Ä‘ | +20 | Pháº¡t 5,000Ä‘/giá» |
| QuÃ¡ háº¡n > 48h | +0Ä‘ | 0 | Máº¥t tiá»n cá»c + blacklist |
| Tráº£ nhanh < 1h | +20,000Ä‘ | +100 | Speed Returner badge |

### **ğŸŒ TÃ¡c Äá»™ng MÃ´i TrÆ°á»ng**

Má»—i ly tÃ¡i sá»­ dá»¥ng = **17g COâ‚‚** giáº£m + **0.5 lÃ­t nÆ°á»›c** tiáº¿t kiá»‡m + **0.03 kWh** Ä‘iá»‡n tiáº¿t kiá»‡m

```
100 ly cá»©u = 1 cÃ¢y xanh ğŸŒ³ = 1.7 kg COâ‚‚ giáº£m = 50 lÃ­t nÆ°á»›c tiáº¿t kiá»‡m
```

---

## âœ¨ **TÃNH NÄ‚NG CHI TIáº¾T**

### ğŸ¯ **CHO NGÆ¯á»œI DÃ™NG (USER)**

#### **1. ğŸ† Há»‡ Thá»‘ng ThÃ nh Tá»±u & Badges**
- **8 Badges Kháº£ Dá»¥ng:**
  - ğŸŒŸ **First Cup** - MÆ°á»£n ly Ä‘áº§u tiÃªn (+50 points)
  - âš¡ **Speed Returner** - Tráº£ ly < 1h (+100 points)
  - ğŸ”¥ **Streak Master** - MÆ°á»£n 7 ngÃ y liÃªn tiáº¿p (+500 points)
  - ğŸŒ **Eco Warrior** - Cá»©u 100 ly (+1000 points)
  - ğŸ’š **Zero Waste** - KhÃ´ng quÃ¡ háº¡n láº§n nÃ o (+2000 points)
  - ğŸ“ **Campus Champion** - Top 10 trÆ°á»ng (+5000 points)
  - ğŸ¤ **Social Butterfly** - CÃ³ 10+ báº¡n bÃ¨ (+200 points)
  - ğŸ“¸ **Content Creator** - ÄÄƒng 50+ bÃ i (+800 points)

- **Tá»± Ä‘á»™ng unlock** khi Ä‘á»§ Ä‘iá»u kiá»‡n
- **Hiá»ƒn thá»‹ progress** tá»«ng achievement
- **ThÆ°á»Ÿng Ä‘áº·c biá»‡t** cho rare/epic/legendary badges

#### **2. ğŸ“Š Lá»‹ch Sá»­ Giao Dá»‹ch Chi Tiáº¿t**
- **Timeline Ä‘áº§y Ä‘á»§:** MÆ°á»£n/tráº£, thá»i gian, Ä‘á»‹a Ä‘iá»ƒm
- **Lá»c theo:** NgÃ y/thÃ¡ng/nÄƒm, tráº¡ng thÃ¡i
- **Thá»‘ng kÃª:** Tá»•ng tiá»n cá»c, pháº¡t, points nháº­n Ä‘Æ°á»£c
- **Export:** PDF, Excel cho bÃ¡o cÃ¡o cÃ¡ nhÃ¢n
- **Biá»ƒu Ä‘á»“:** Cups saved theo thá»i gian

#### **3. ğŸ Há»‡ Thá»‘ng Äá»•i ThÆ°á»Ÿng (Rewards Store)**
- **Vouchers:**
  - CÃ  phÃª 50k (500 points)
  - TrÃ  sá»¯a 30k (300 points)
  - Miá»…n phÃ­ cá»c 1 láº§n (200 points)

- **Merchandise:**
  - TÃºi váº£i CupSipSmart (1500 points)
  - Sticker pack (50 points)

- **Privileges:**
  - Priority pass 30 ngÃ y (800 points)

- **Charity:**
  - Trá»“ng cÃ¢y tháº­t cÃ³ tÃªn báº¡n (5000 points)

#### **4. ğŸ”” ThÃ´ng BÃ¡o ThÃ´ng Minh**
- â° **Sáº¯p Ä‘áº¿n háº¡n** (1 giá» trÆ°á»›c)
- ğŸš¨ **QuÃ¡ háº¡n** (realtime)
- ğŸ‰ **LÃªn háº¡ng** má»›i
- ğŸ† **Unlock achievement**
- ğŸ’° **Refund thÃ nh cÃ´ng**
- ğŸ‘¥ **Báº¡n bÃ¨ gáº§n báº¡n**
- ğŸŒŸ **Top leaderboard**
- ğŸ **Pháº§n thÆ°á»Ÿng má»›i**

- **CÃ i Ä‘áº·t:** Báº­t/táº¯t tá»«ng loáº¡i, chá»n kÃªnh (Push/Email/SMS), quiet hours

#### **5. ğŸ“ TÃ¬m Báº¡n BÃ¨ Gáº§n Báº¡n**
- **Map view:** Hiá»ƒn thá»‹ báº¡n bÃ¨ Ä‘ang á»Ÿ cá»­a hÃ ng nÃ o
- **Chat nhanh:** "CÃ¹ng tráº£ ly khÃ´ng?"
- **Group return:** Tráº£ ly cÃ¹ng nhau â†’ bonus points
- **Thá»‘ng kÃª:** Báº¡n mÆ°á»£n/tráº£ ly nhiá»u nháº¥t

#### **6. ğŸ¯ Challenges & Events**
- **Weekly Challenges:**
  - Return Fast Week: Tráº£ < 2h trong tuáº§n (+500)
  - Eco Week: MÆ°á»£n 10 ly/tuáº§n (+300)
  - Share Your Cup: ÄÄƒng 5 bÃ i (+200)

- **Special Events:**
  - Christmas Cup Hunt: QuÃ©t 5 QR Ä‘áº·c biá»‡t â†’ Giáº£i lá»›n
  - Earth Day Challenge: Top 50 â†’ Trá»“ng cÃ¢y tháº­t
  - Back to School: SV má»›i +100 points miá»…n phÃ­

#### **7. ğŸ’³ Thanh ToÃ¡n Äa Dáº¡ng**
- **LiÃªn káº¿t:** VNPay, Momo, ZaloPay
- **Tháº»:** TÃ­n dá»¥ng/ghi ná»£, tháº» sinh viÃªn
- **Auto top-up:** Tá»± Ä‘á»™ng náº¡p khi < 20,000Ä‘
- **Quáº£n lÃ½:** ThÃªm/xÃ³a phÆ°Æ¡ng thá»©c, set default

#### **8. ğŸ“Š Personal Eco Dashboard**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒ TÃC Äá»˜NG MÃ”I TRÆ¯á»œNG Cá»¦A Báº N     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŒ³ CÃ¢y trá»“ng tÆ°Æ¡ng Ä‘Æ°Æ¡ng: 12       â”‚
â”‚ ğŸ’§ NÆ°á»›c tiáº¿t kiá»‡m: 240 lÃ­t         â”‚
â”‚ âš¡ Äiá»‡n tiáº¿t kiá»‡m: 15 kWh          â”‚
â”‚ ğŸŒ CO2 giáº£m: 8.5 kg                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ˆ Biá»ƒu Ä‘á»“ theo thÃ¡ng              â”‚
â”‚ ğŸ† Top 15% community               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **9. ğŸ¤– AI Chatbot Há»— Trá»£**
- **FAQ** tá»± Ä‘á»™ng
- **TÃ¬m cá»­a hÃ ng** gáº§n nháº¥t
- **HÆ°á»›ng dáº«n** mÆ°á»£n/tráº£
- **Kiá»ƒm tra** sá»‘ dÆ°, lá»‹ch sá»­
- **Gá»£i Ã½** kiáº¿m points nhanh

#### **10. ğŸ® Mini Games**
- **Tree Watering Game:** TÆ°á»›i cÃ¢y áº£o má»—i ngÃ y
- **Cup Catch:** Báº¯t ly rÆ¡i â†’ +points
- **Eco Quiz:** CÃ¢u há»i mÃ´i trÆ°á»ng

---

### ğŸ› ï¸ **CHO ADMIN**

#### **1. ğŸ“Š Dashboard NÃ¢ng Cao**
- **Real-time Metrics:**
  - Total Users, Active Users, Churn Rate
  - Cups Utilization, Lost Rate, Lifespan
  - Revenue, Refund, Penalty
  - Peak Hours, Peak Days

- **AI Predictions:**
  - Dá»± bÃ¡o nhu cáº§u ly tuáº§n sau
  - Recommended stock level
  - Store efficiency ranking

- **Alerts:**
  - Low stock warnings
  - Overdue transactions
  - Lost cups

#### **2. ğŸ¨ Custom QR Code Design**
- **Logo** CupSipSmart á»Ÿ giá»¯a
- **MÃ u sáº¯c** tÃ¹y chá»‰nh theo material
- **KÃ­ch thÆ°á»›c:** 300x300, 500x500, 1000x1000
- **Export:** PDF hÃ ng loáº¡t (A4, nhiá»u mÃ£/trang)
- **Print-ready:** CMYK, 300dpi

#### **3. ğŸ“¦ Quáº£n LÃ½ Kho ThÃ´ng Minh**
- **Dá»± bÃ¡o nhu cáº§u** (AI-based)
- **Tá»± Ä‘á»™ng táº¡o** Ä‘Æ¡n Ä‘iá»u chuyá»ƒn
- **Cáº£nh bÃ¡o** kho tháº¥p (< 10 ly)
- **Gá»£i Ã½** tÃ¡i phÃ¢n bá»•
- **Tracking** tá»«ng ly
- **BÃ¡o cÃ¡o** ly há»ng/máº¥t

#### **4. ğŸ‘¥ User Management NÃ¢ng Cao**
- **TÃ¬m kiáº¿m:** Email, student ID, tÃªn
- **Chi tiáº¿t:** Profile, lá»‹ch sá»­, thá»‘ng kÃª
- **Äiá»u chá»‰nh:** Sá»‘ dÆ°, points (cÃ³ lÃ½ do)
- **Táº·ng rewards** cho user
- **Email/notification** hÃ ng loáº¡t
- **PhÃ¢n nhÃ³m:** Theo khoa, háº¡ng, behavior
- **Blacklist:** Quáº£n lÃ½ vi pháº¡m

#### **5. ğŸ“ˆ BÃ¡o CÃ¡o Tá»± Äá»™ng**
- **Daily Report** (7h sÃ¡ng):
  - Giao dá»‹ch hÃ´m qua
  - Ly quÃ¡ háº¡n
  - User má»›i

- **Weekly Report** (Thá»© 2):
  - Top users
  - Performance cÃ¡c store
  - TÃ i chÃ­nh

- **Monthly Report:**
  - Tá»•ng káº¿t thÃ¡ng
  - So sÃ¡nh thÃ¡ng trÆ°á»›c
  - Insights & recommendations

#### **6. ğŸ¯ Campaign Manager**
- **Táº¡o campaigns:**
  - Happy Hour (giá» vÃ ng)
  - Welcome Freshmen (tÃ¢n SV)
  - Earth Week (tuáº§n mÃ´i trÆ°á»ng)
  - Coffee Lover (quÃ¡n cÃ  phÃª)

- **Quáº£n lÃ½:**
  - Thá»i gian, target, reward
  - Budget points
  - Preview & schedule

#### **7. ğŸ”§ System Settings**
- **Deposit & Penalty:**
  - Tiá»n cá»c, thá»i gian tráº£, pháº¡t/giá»
  - Max overdue hours

- **Points:**
  - Points cho return, check-in, feed

- **Gamification:**
  - Rank thresholds

- **Features:**
  - Enable/disable ChatAI, Green Feed, Friends, Challenges, Rewards
  - Maintenance mode

#### **8. ğŸ” Admin Roles & Permissions**
- **Roles:**
  - Super Admin: Full quyá»n
  - Store Manager: Quáº£n lÃ½ kho
  - Support Staff: View + manage users

- **Permissions:**
  - view_dashboard, create_qr, manage_users
  - blacklist_users, manage_inventory
  - view_analytics, export_data
  - manage_campaigns, system_settings

#### **9. ğŸ“¤ Bulk Operations**
- **Import users** tá»« CSV/Excel
- **Export data** (users, transactions, cups)
- **Táº·ng points/rewards** hÃ ng loáº¡t
- **Gá»­i email/notification** hÃ ng loáº¡t
- **Tag users** theo group

#### **10. ğŸš¨ Incident Management**
- **Loáº¡i sá»± cá»‘:**
  - Ly bá»‹ máº¥t
  - Ly há»ng
  - QuÃ¡ háº¡n
  - Khiáº¿u náº¡i

- **Workflow:**
  - Open â†’ Investigating â†’ Resolved â†’ Closed
  - Assign admin
  - Priority (low/medium/high/critical)

---

## ğŸ› ï¸ **TECH STACK**

### **Frontend**
- **Framework:** Next.js 14 (App Router), React 18
- **Language:** TypeScript
- **Styling:** Tailwind CSS
- **Animation:** Framer Motion
- **3D:** React Three Fiber, Drei
- **Maps:** Google Maps API
- **Icons:** Lucide React, React Icons

### **Backend**
- **Database:** Firebase Firestore, Prisma (SQLite backup)
- **Authentication:** Firebase Auth
- **Storage:** Firebase Storage
- **Functions:** Next.js API Routes
- **Realtime:** Firebase Realtime Database

### **Third-party Integrations**
- **Payment:** VNPay, MoMo, ZaloPay (planned)
- **Email:** Resend
- **AI Chat:** Google Gemini AI
- **QR Code:** qrcode, html5-qrcode
- **Notifications:** Firebase Cloud Messaging

### **Tools**
- **State Management:** Zustand
- **Date:** date-fns
- **HTTP:** Fetch API
- **Dev:** ESLint, Prettier (planned)

---

## ğŸ“¦ **CÃ€I Äáº¶T & CHáº Y Dá»° ÃN**

### **1. YÃªu Cáº§u Há»‡ Thá»‘ng**
- **Node.js:** >= 18.x
- **npm/yarn/pnpm**
- **Git**

### **2. Clone Repository**
```bash
git clone https://github.com/qtu11/SipMart.git
cd CupSipSmart
```

### **3. CÃ i Äáº·t Dependencies**
```bash
npm install
# hoáº·c
yarn install
# hoáº·c
pnpm install
```

### **4. Cáº¥u HÃ¬nh Environment Variables**

Táº¡o file `.env.local`:

```env
# Firebase
NEXT_PUBLIC_FIREBASE_API_KEY=your_api_key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
NEXT_PUBLIC_FIREBASE_APP_ID=your_app_id

# App Config
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_DEPOSIT_AMOUNT=20000
NEXT_PUBLIC_BORROW_DURATION_HOURS=24

# Google Maps
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your_maps_key

# Gemini AI
GEMINI_API_KEY=your_gemini_key

# Email (Resend)
RESEND_API_KEY=your_resend_key

# Payment (planned)
# VNPAY_TMN_CODE=your_vnpay_code
# VNPAY_SECRET_KEY=your_vnpay_secret
# MOMO_PARTNER_CODE=your_momo_code
# MOMO_ACCESS_KEY=your_momo_key
```

### **5. Setup Firebase**

1. Táº¡o Firebase Project táº¡i [console.firebase.google.com](https://console.firebase.google.com)
2. Báº­t **Authentication** (Email/Password, Google)
3. Táº¡o **Firestore Database** (production mode)
4. Báº­t **Storage**
5. Báº­t **Cloud Messaging** (FCM)
6. Copy config vÃ o `.env.local`

### **6. Cháº¡y Development Server**
```bash
npm run dev
```

Má»Ÿ [http://localhost:3000](http://localhost:3000)

### **7. Build Production**
```bash
npm run build
npm run start
```

---

## ğŸ“ **Cáº¤U TRÃšC Dá»° ÃN**

```
CupSipSmart/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ api/                      # API Routes
â”‚   â”‚   â”œâ”€â”€ achievements/         # Achievements API
â”‚   â”‚   â”œâ”€â”€ rewards/              # Rewards Store API
â”‚   â”‚   â”œâ”€â”€ challenges/           # Challenges API
â”‚   â”‚   â”œâ”€â”€ payment/              # Payment API
â”‚   â”‚   â”œâ”€â”€ transactions/         # Transaction History API
â”‚   â”‚   â”œâ”€â”€ eco/                  # Eco Dashboard API
â”‚   â”‚   â”œâ”€â”€ admin/                # Admin APIs
â”‚   â”‚   â”‚   â”œâ”€â”€ advanced-analytics/
â”‚   â”‚   â”‚   â”œâ”€â”€ campaigns/
â”‚   â”‚   â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â”‚   â”œâ”€â”€ incidents/
â”‚   â”‚   â”‚   â”œâ”€â”€ inventory/
â”‚   â”‚   â”‚   â”œâ”€â”€ bulk/
â”‚   â”‚   â”‚   â”œâ”€â”€ qr/
â”‚   â”‚   â”‚   â”œâ”€â”€ reports/
â”‚   â”‚   â”‚   â””â”€â”€ roles/
â”‚   â”‚   â””â”€â”€ [existing APIs]
â”‚   â”œâ”€â”€ [pages]/                  # App Pages
â”‚   â””â”€â”€ layout.tsx
â”œâ”€â”€ components/                   # React Components
â”‚   â”œâ”€â”€ AuthGuard.tsx
â”‚   â”œâ”€â”€ ChatAI.tsx
â”‚   â”œâ”€â”€ Footer.tsx
â”‚   â”œâ”€â”€ NotificationProvider.tsx
â”‚   â””â”€â”€ [more components]
â”œâ”€â”€ lib/                          # Libraries & Utilities
â”‚   â”œâ”€â”€ firebase/                 # Firebase Helpers
â”‚   â”‚   â”œâ”€â”€ achievements.ts       # âœ¨ NEW
â”‚   â”‚   â”œâ”€â”€ rewards.ts            # âœ¨ NEW
â”‚   â”‚   â”œâ”€â”€ challenges.ts         # âœ¨ NEW
â”‚   â”‚   â”œâ”€â”€ payments.ts           # âœ¨ NEW
â”‚   â”‚   â”œâ”€â”€ analytics.ts          # âœ¨ NEW
â”‚   â”‚   â”œâ”€â”€ admin-advanced.ts     # âœ¨ NEW
â”‚   â”‚   â””â”€â”€ [existing helpers]
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts              # âœ¨ UPDATED with new types
â”‚   â””â”€â”€ utils/
â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ schema.prisma             # âœ¨ UPDATED with new models
â”œâ”€â”€ public/                       # Static Assets
â”œâ”€â”€ .env.local                    # Environment Variables
â”œâ”€â”€ next.config.js
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ package.json
â””â”€â”€ README.md                     # âœ¨ THIS FILE
```

---

## ğŸ¯ **API ENDPOINTS**

### **User APIs**

| **Endpoint** | **Method** | **Description** |
|-------------|------------|-----------------|
| `/api/achievements` | GET | Láº¥y danh sÃ¡ch achievements |
| `/api/achievements/user` | GET, POST | User achievements, unlock |
| `/api/rewards` | GET | Láº¥y rewards store |
| `/api/rewards/claim` | GET, POST | Äá»•i thÆ°á»Ÿng |
| `/api/challenges` | GET, POST | Challenges & join |
| `/api/payment/methods` | GET, POST, PUT | Payment methods |
| `/api/payment/topup` | POST | Top-up wallet |
| `/api/transactions/history` | GET | Transaction history |
| `/api/eco/dashboard` | GET | Personal eco dashboard |

### **Admin APIs**

| **Endpoint** | **Method** | **Description** |
|-------------|------------|-----------------|
| `/api/admin/advanced-analytics` | GET | Advanced analytics |
| `/api/admin/campaigns` | GET, POST, PUT | Campaign manager |
| `/api/admin/settings` | GET, PUT | System settings |
| `/api/admin/incidents` | GET, POST, PUT | Incident management |
| `/api/admin/inventory` | GET, POST, PUT | Inventory management |
| `/api/admin/bulk` | POST | Bulk operations |
| `/api/admin/qr/design` | POST | Custom QR design |
| `/api/admin/reports` | GET, POST | Auto reports |
| `/api/admin/roles` | GET, POST | Admin roles |

---

## ğŸŒ **DEPLOYMENT**

### **Vercel (Recommended)**
```bash
npm install -g vercel
vercel login
vercel --prod
```

### **Docker**
```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build
EXPOSE 3000
CMD ["npm", "start"]
```

```bash
docker build -t cupsipsmart .
docker run -p 3000:3000 cupsipsmart
```

---

## ğŸ“ **CONTRIBUTING**

Contributions are welcome! Please follow these steps:

1. Fork the repository
2. Create a feature branch: `git checkout -b feature/AmazingFeature`
3. Commit changes: `git commit -m 'Add AmazingFeature'`
4. Push to branch: `git push origin feature/AmazingFeature`
5. Open a Pull Request

---

## ğŸ“„ **LICENSE**

MIT License

---

## ğŸ‘¥ **TEAM**

- **Lead Developer:** AstraX Dev Ultra
- **Project Manager:** Nguyá»…n Quang TÃº

---

## ğŸ“ **SUPPORT**

- **Email:** support@cupsipsmart.vn
- **Website:** https://cupsipsmart.vn
- **Facebook:** /CupSipSmart
- **Hotline:** 1900 xxxx

---

## ğŸ‰ **CHANGELOG**

### **Version 2.0.0** (2024-12-28) - âœ¨ MAJOR UPDATE

#### **New Features:**
- ğŸ† Achievement & Badges System (8 badges)
- ğŸ Rewards Store (7 rewards)
- ğŸ¯ Challenges & Events (weekly + special)
- ğŸ’³ Multi-payment Integration (VNPay/MoMo/ZaloPay)
- ğŸ“Š Transaction History with Filters
- ğŸŒ Personal Eco Dashboard
- ğŸ“ Find Friends Nearby
- ğŸ”” Smart Notifications (8 types)
- ğŸ¤– AI Chatbot Enhanced
- ğŸ® Mini Games (3 games)

#### **Admin Features:**
- ğŸ“Š Advanced Analytics Dashboard
- ğŸ¨ Custom QR Code Designer
- ğŸ“¦ Smart Inventory Management
- ğŸ‘¥ Advanced User Management
- ğŸ“ˆ Auto Reports (Daily/Weekly/Monthly)
- ğŸ¯ Campaign Manager
- ğŸ”§ System Settings UI
- ğŸ” Roles & Permissions
- ğŸ“¤ Bulk Operations
- ğŸš¨ Incident Management

#### **Technical Improvements:**
- TypeScript types updated
- Prisma schema vá»›i 15 models má»›i
- 20+ API routes má»›i
- Firebase helpers tÃ¡i cáº¥u trÃºc
- Performance optimization

### **Version 1.0.0** (2024-11-XX)
- Initial release
- Basic borrow/return functionality
- Wallet & transactions
- Gamification (tree, leaderboard)
- Green Feed & Stories
- Friends system

---

## ğŸš€ **ROADMAP**

### **Q1 2025**
- [ ] Mobile App (React Native)
- [ ] AR Features (quÃ©t ly báº±ng camera)
- [ ] Mini App Zalo/MoMo
- [ ] Voice Assistant integration

### **Q2 2025**
- [ ] Blockchain integration (NFT badges)
- [ ] Carbon Credit trading
- [ ] Partnership expansion (100+ stores)
- [ ] International version (English)

### **Q3 2025**
- [ ] AI recommendation engine
- [ ] Predictive analytics
- [ ] IoT smart cups
- [ ] Automated washing stations

---

**ğŸŒ CupSipSmart - MÆ°á»£n ly, Cá»©u hÃ nh tinh!**

*Made with ğŸ’š in Vietnam*
